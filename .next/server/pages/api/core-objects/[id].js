"use strict";(()=>{var t={};t.id=15,t.ids=[15],t.modules={145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9926:t=>{t.exports=import("zod")},6249:(t,e)=>{Object.defineProperty(e,"l",{enumerable:!0,get:function(){return function t(e,r){return r in e?e[r]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,r)):"function"==typeof e&&"default"===r?e:void 0}}})},544:(t,e,r)=>{r.a(t,async(t,o)=>{try{r.r(e),r.d(e,{config:()=>u,default:()=>c,routeModule:()=>l});var n=r(1802),a=r(7153),i=r(6249),s=r(4105),d=t([s]);s=(d.then?(await d)():d)[0];let c=(0,i.l)(s,"default"),u=(0,i.l)(s,"config"),l=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/core-objects/[id]",pathname:"/api/core-objects/[id]",bundlePath:"",filename:""},userland:s});o()}catch(t){o(t)}})},8427:(t,e,r)=>{r.a(t,async(t,o)=>{try{r.d(e,{B:()=>i});var n=r(9926),a=t([n]);let i=(n=(a.then?(await a)():a)[0]).z.object({id:n.z.string(),metabox_id:n.z.string(),title:n.z.string().min(1,"Title is required"),description:n.z.string().optional(),status:n.z.enum(["active","archived","draft","completed","blocked","pending"]),phase_id:n.z.string(),assigned_user_id:n.z.string().optional(),agent_id:n.z.string().optional(),activity_log:n.z.array(n.z.object({id:n.z.string(),agent_id:n.z.string().optional(),core_object_id:n.z.string().optional(),user_id:n.z.string().optional(),type:n.z.string(),message:n.z.string(),timestamp:n.z.string().datetime()})),data:n.z.record(n.z.unknown()).optional(),created_at:n.z.string().datetime(),updated_at:n.z.string().datetime(),metadata:n.z.record(n.z.unknown()).optional()});o()}catch(t){o(t)}})},4105:(t,e,r)=>{r.a(t,async(t,o)=>{try{r.r(e),r.d(e,{default:()=>i});var n=r(8427),a=t([n]);n=(a.then?(await a)():a)[0];let s=[];async function i(t,e){let{id:r}=t.query;if("GET"===t.method)try{let t=s.find(t=>t.id===r);if(!t)return e.status(404).json({error:"Core object not found"});e.status(200).json(t)}catch(t){e.status(500).json({error:"Failed to fetch core object"})}else if("PUT"===t.method)try{let o=s.findIndex(t=>t.id===r);if(-1===o)return e.status(404).json({error:"Core object not found"});let a=t.body,i={...s[o],...a,updated_at:new Date().toISOString()},d=n.B.safeParse(i);if(!d.success)return e.status(400).json({error:"Invalid core object data",details:d.error});s[o]=d.data,e.status(200).json(d.data)}catch(t){e.status(500).json({error:"Failed to update core object"})}else if("DELETE"===t.method)try{let t=s.findIndex(t=>t.id===r);if(-1===t)return e.status(404).json({error:"Core object not found"});let o=s.splice(t,1)[0];e.status(200).json({message:"Core object deleted successfully",deletedObject:o})}catch(t){e.status(500).json({error:"Failed to delete core object"})}else e.setHeader("Allow",["GET","PUT","DELETE"]),e.status(405).json({error:`Method ${t.method} Not Allowed`})}o()}catch(t){o(t)}})},7153:(t,e)=>{var r;Object.defineProperty(e,"x",{enumerable:!0,get:function(){return r}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(t,e,r)=>{t.exports=r(145)}};var e=require("../../../webpack-api-runtime.js");e.C(t);var r=e(e.s=544);module.exports=r})();