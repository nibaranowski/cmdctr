(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{1444:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fundraising",function(){return a(3108)}])},3108:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(5893),i=a(9008),n=a.n(i),r=a(1664),o=a.n(r),c=a(7294);class l{setLevel(e){this.level=e}info(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];["info","debug"].includes(this.level)&&console.info("[INFO] ".concat(e),...a)}warn(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];["warn","info","debug"].includes(this.level)&&console.warn("[WARN] ".concat(e),...a)}error(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];["error","warn","info","debug"].includes(this.level)&&console.error("[ERROR] ".concat(e),...a)}debug(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];"debug"===this.level&&console.debug("[DEBUG] ".concat(e),...a)}startTimer(e,t){let s="timer_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),i=performance.now();return"debug"===this.level&&this.debug("Started timer for operation: ".concat(e),{timerId:s,metadata:t}),a.g.__timers=a.g.__timers||new Map,a.g.__timers.set(s,{operation:e,startTime:i,metadata:t}),s}endTimer(e,t){let s=a.g.__timers;if(!s||!s.has(e))return this.warn("Timer not found: ".concat(e)),null;let i=s.get(e),n=performance.now()-i.startTime,r={operation:i.operation,duration:n,timestamp:new Date().toISOString(),metadata:{...i.metadata,...t}};return this.performanceMetrics.push(r),s.delete(e),"debug"===this.level?this.debug("Completed operation: ".concat(i.operation),{duration:"".concat(n.toFixed(2),"ms"),metric:r}):this.info("Performance: ".concat(i.operation," completed in ").concat(n.toFixed(2),"ms")),r}updateTaskMetrics(e,t){if(this.taskMetrics.total_tasks++,this.taskMetrics.tasks_by_status[e]=(this.taskMetrics.tasks_by_status[e]||0)+1,t&&"completed"===e){let e=this.taskMetrics.average_completion_time,a=this.taskMetrics.tasks_by_status.completed||0;this.taskMetrics.average_completion_time=(e*(a-1)+t)/a}"debug"===this.level&&this.debug("Task metrics updated",{status:e,completionTime:t,metrics:this.taskMetrics})}setQueueLength(e){this.taskMetrics.queue_length=e,"debug"===this.level&&this.debug("Queue length updated: ".concat(e))}updateAgentMetrics(e,t,a,s){let i=this.agentMetrics.get(e);if(i||(i={agent_id:e,agent_name:t,tasks_completed:0,tasks_failed:0,average_execution_time:0,success_rate:0,last_activity:new Date().toISOString()},this.agentMetrics.set(e,i)),a?i.tasks_completed++:i.tasks_failed++,s){let e=i.tasks_completed+i.tasks_failed,t=i.average_execution_time;i.average_execution_time=(t*(e-1)+s)/e}i.success_rate=i.tasks_completed/(i.tasks_completed+i.tasks_failed),i.last_activity=new Date().toISOString(),"debug"===this.level&&this.debug("Agent metrics updated",{agentId:e,success:a,executionTime:s,metrics:i})}getPerformanceReport(){let e=this.performanceMetrics.slice(-100),t=Array.from(this.agentMetrics.values()),a=e.length,s=a>0?e.reduce((e,t)=>e+t.duration,0)/a:0,i=e.length>0?e.reduce((e,t)=>t.duration>e.duration?t:e):null,n=e.length>0?e.reduce((e,t)=>t.duration<e.duration?t:e):null;return{recent_metrics:e,task_metrics:this.taskMetrics,agent_metrics:t,summary:{total_operations:a,average_duration:s,slowest_operation:i,fastest_operation:n}}}clearOldMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t=Date.now()-36e5*e;this.performanceMetrics=this.performanceMetrics.filter(e=>new Date(e.timestamp).getTime()>t),"debug"===this.level&&this.debug("Cleared metrics older than ".concat(e," hours"))}constructor(){this.level="info",this.performanceMetrics=[],this.taskMetrics={total_tasks:0,tasks_by_status:{},average_completion_time:0,queue_length:0},this.agentMetrics=new Map}}let d=new l;class u{updateStatus(e){this.status=e,this.updated_at=new Date().toISOString(),("active"===e||"busy"===e)&&(this.last_heartbeat=new Date().toISOString())}async logActivity(e){let t={id:"activity_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),agent_id:this.id,timestamp:new Date().toISOString(),...e};this.performance_metrics.last_activity=t.timestamp,this.updated_at=t.timestamp,d.info("Agent Activity [".concat(this.name,"]:"),t)}async handleError(e){return d.error("Agent ".concat(this.name," error:"),e),this.updateStatus("error"),this.performance_metrics.tasks_failed++,this.updateSuccessRate(),await this.logActivity({type:"error",message:e.message,data:{error_stack:e.stack}}),{success:!1,error:e.message,metadata:{agent_id:this.id,agent_name:this.name,metabox_id:this.metabox_id,phase_id:this.phase_id,timestamp:new Date().toISOString()}}}createResult(e,t){return this.performance_metrics.tasks_completed++,this.updateSuccessRate(),this.updateStatus("active"),{success:!0,data:e,metadata:{agent_id:this.id,agent_name:this.name,metabox_id:this.metabox_id,phase_id:this.phase_id,timestamp:new Date().toISOString(),...t}}}updateSuccessRate(){let e=this.performance_metrics.tasks_completed+this.performance_metrics.tasks_failed;e>0&&(this.performance_metrics.success_rate=this.performance_metrics.tasks_completed/e*100)}toAgentModel(){let e={id:this.id,name:this.name,company_id:this.company_id,agent_type:this.agent_type,status:this.status,capabilities:this.capabilities,skills:this.skills,performance_metrics:this.performance_metrics,availability:this.availability,configuration:this.configuration,permissions:this.permissions,created_at:this.created_at,updated_at:this.updated_at};return this.description&&(e.description=this.description),this.metabox_id&&(e.metabox_id=this.metabox_id),this.phase_id&&(e.phase_id=this.phase_id),this.current_core_object_id&&(e.current_core_object_id=this.current_core_object_id),this.last_heartbeat&&(e.last_heartbeat=this.last_heartbeat),this.metadata&&(e.metadata=this.metadata),e}constructor(e){var t,a,s,i,n,r,o,c,l;this.id="agent_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),this.name=e.name,this.company_id=e.company_id,this.agent_type=e.agent_type,this.status="idle",this.capabilities=e.capabilities||[],this.skills=e.skills||[],this.performance_metrics={tasks_completed:0,tasks_failed:0,average_completion_time_hours:1,success_rate:100,last_activity:new Date().toISOString()},this.availability={is_available:!0,max_concurrent_tasks:e.max_concurrent_tasks||1,current_task_count:0},this.configuration={},this.permissions={can_create_tasks:(null===(t=e.permissions)||void 0===t?void 0:t.can_create_tasks)||!1,can_assign_tasks:(null===(a=e.permissions)||void 0===a?void 0:a.can_assign_tasks)||!1,can_access_projects:(null===(s=e.permissions)||void 0===s?void 0:s.can_access_projects)||!0,can_manage_other_agents:(null===(i=e.permissions)||void 0===i?void 0:i.can_manage_other_agents)||!1,can_access_company_data:(null===(n=e.permissions)||void 0===n?void 0:n.can_access_company_data)||!0},this.created_at=new Date().toISOString(),this.updated_at=new Date().toISOString(),e.description&&(this.description=e.description),e.metabox_id&&(this.metabox_id=e.metabox_id),e.phase_id&&(this.phase_id=e.phase_id),e.working_hours&&(this.availability.working_hours=e.working_hours),(null===(r=e.configuration)||void 0===r?void 0:r.model)&&(this.configuration.model=e.configuration.model),(null===(o=e.configuration)||void 0===o?void 0:o.api_keys)&&(this.configuration.api_keys=e.configuration.api_keys),(null===(c=e.configuration)||void 0===c?void 0:c.settings)&&(this.configuration.settings=e.configuration.settings),(null===(l=e.configuration)||void 0===l?void 0:l.webhooks)&&(this.configuration.webhooks=e.configuration.webhooks)}}class m extends u{async execute(e){try{let{core_object_id:t,metadata:a}=e;if(!t)return this.handleError(Error("Core object ID is required for outreach"));let s=null==a?void 0:a.investor_data;if(!s)return this.handleError(Error("Investor data is required in metadata"));let i=await this.createPersonalizedOutreach(s,e.company_id);return t&&await this.updateCoreObject(t,i),this.createResult(i,{investor_name:s.name,outreach_channels:this.config.outreach_channels,core_object_id:t})}catch(e){return this.handleError(e)}}async createPersonalizedOutreach(e,t){try{this.updateStatus("busy");let t=await this.generatePersonalizedMessages(e),a=this.analyzePersonalizationOpportunities(e),s=this.createFollowUpPlan(e),i=this.calculateSuccessProbability(e,t);return await this.logActivity({type:"outreach_creation",message:"Created personalized outreach for ".concat(e.name),data:{investor_name:e.name,message_count:t.length,channels:this.config.outreach_channels}}),this.updateStatus("active"),{messages:t,personalization_insights:a,follow_up_plan:s,success_probability:i}}catch(e){throw this.updateStatus("error"),Error("Failed to create personalized outreach: ".concat(e))}}async sendOutreachMessage(e){try{this.updateStatus("busy");let t=await this.performMessageSend(e);return await this.logActivity({type:"message_sent",message:"Sent ".concat(e.channel," message to ").concat(e.recipient),data:{recipient:e.recipient,channel:e.channel,message_id:t.message_id}}),this.updateStatus("active"),t}catch(e){throw this.updateStatus("error"),Error("Failed to send outreach message: ".concat(e))}}async handleResponse(e){try{this.updateStatus("busy");let t=await this.analyzeResponse(e),a=this.decideFollowUp(e,t);return await this.logActivity({type:"response_handled",message:"Handled response from ".concat(e.recipient),data:{recipient:e.recipient,sentiment:e.sentiment,should_follow_up:a.should_follow_up}}),this.updateStatus("active"),a}catch(e){throw this.updateStatus("error"),Error("Failed to handle response: ".concat(e))}}async updateCoreObject(e,t){try{new Date().toISOString(),this.id,console.log("Updating core object ".concat(e," with outreach data")),await this.logActivity({type:"core_object_update",message:"Updated core object ".concat(e," with outreach data"),data:{core_object_id:e}})}catch(e){throw Error("Failed to update core object: ".concat(e))}}async generatePersonalizedMessages(e){let t=[];for(let a of this.config.outreach_channels){let s=await this.createChannelSpecificMessage(e,a);t.push(s)}return t}async createChannelSpecificMessage(e,t){await this.simulateWork(1e3);let a=this.extractPersonalizationData(e);if("email"===t){var s;return{recipient:e.email||"".concat(e.name.toLowerCase().replace(" ","."),"@example.com"),channel:"email",subject:"Partnership opportunity: ".concat((null===(s=e.focus_areas)||void 0===s?void 0:s[0])||"SaaS"," company seeking investment"),content:this.generateEmailContent(e,a),personalization_data:a,status:"draft"}}if("linkedin"===t)return{recipient:e.linkedin_url||"linkedin.com/in/".concat(e.name.toLowerCase().replace(" ","")),channel:"linkedin",content:this.generateLinkedInContent(e,a),personalization_data:a,status:"draft"};throw Error("Unsupported channel: ".concat(t))}generateEmailContent(e,t){var a,s,i,n;let r=(null===(a=e.focus_areas)||void 0===a?void 0:a[0])||"B2B SaaS";return e.portfolio_size,"Hi ".concat(e.name,",\n\nI hope this message finds you well. I came across your impressive work at ").concat(e.firm," and was particularly struck by your focus on ").concat(r," companies.\n\nI noticed you've successfully invested in companies like ").concat((null===(s=t.similar_companies)||void 0===s?void 0:s.join(", "))||"innovative B2B SaaS companies",", and I believe there's a strong alignment with what we're building.\n\nOur company has achieved ").concat((null===(i=t.company_metrics)||void 0===i?void 0:i.arr)||"$1M+"," ARR with ").concat((null===(n=t.company_metrics)||void 0===n?void 0:n.growth_rate)||"100%+"," growth, and we're looking for a strategic partner who understands the ").concat(r," space.\n\nWould you be interested in a brief conversation to explore potential synergies? I'd be happy to share more details about our traction and vision.\n\nBest regards,\n[Your Name]\n[Company Name]")}generateLinkedInContent(e,t){var a,s,i;return"Hi ".concat(e.name,", I noticed your work with ").concat(e.firm," and your focus on ").concat((null===(a=e.focus_areas)||void 0===a?void 0:a[0])||"B2B SaaS",". Would love to connect and share what we're building - we've hit ").concat((null===(s=t.company_metrics)||void 0===s?void 0:s.arr)||"$1M+"," ARR and are growing ").concat((null===(i=t.company_metrics)||void 0===i?void 0:i.growth_rate)||"100%+",". Any interest in a quick chat?")}extractPersonalizationData(e){var t;return{focus_areas:e.focus_areas,investment_stages:e.investment_stages,portfolio_size:e.portfolio_size,similar_companies:(null===(t=e.portfolio)||void 0===t?void 0:t.slice(0,3))||[],company_metrics:{arr:"$1.2M",growth_rate:"150%",customers:45,team_size:12}}}analyzePersonalizationOpportunities(e){var t,a,s;let i=[];return(null===(t=e.focus_areas)||void 0===t?void 0:t.length)>0&&i.push("Strong alignment with ".concat(e.focus_areas[0]," focus area")),(null===(a=e.portfolio)||void 0===a?void 0:a.length)>0&&i.push("Can reference similar portfolio companies: ".concat(e.portfolio.slice(0,2).join(", "))),(null===(s=e.investment_stages)||void 0===s?void 0:s.length)>0&&i.push("Matches preferred investment stage: ".concat(e.investment_stages[0])),i}createFollowUpPlan(e){return{sequence:[{day:3,type:"follow_up",channel:"email",content:"Gentle follow-up on initial outreach"},{day:7,type:"value_add",channel:"linkedin",content:"Share relevant industry insights or company update"},{day:14,type:"final_attempt",channel:"email",content:"Final attempt with different angle"}],triggers:{on_response:"immediate_reply",on_no_response:"continue_sequence",on_negative_response:"respectful_closure"}}}calculateSuccessProbability(e,t){let a=50;return"high"===this.config.personalization_level&&(a+=15),t.length>1&&(a+=10),e.email&&e.linkedin_url&&(a+=10),Math.min(a,95)}async performMessageSend(e){return await this.simulateWork(500),{success:!0,message_id:"msg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),delivery_status:"delivered",tracking_data:{opened:!1,clicked:!1,replied:!1}}}async analyzeResponse(e){return await this.simulateWork(300),{sentiment:e.sentiment||"neutral",intent:this.detectIntent(e.content),urgency:this.assessUrgency(e.content),next_best_action:this.determineNextAction(e)}}detectIntent(e){let t=e.toLowerCase();return t.includes("interested")||t.includes("sounds good")?"positive_interest":t.includes("not interested")||t.includes("pass")?"negative_response":t.includes("more info")||t.includes("details")?"requesting_info":"neutral"}assessUrgency(e){let t=e.toLowerCase();return t.includes("urgent")||t.includes("asap")?"high":t.includes("soon")||t.includes("this week")?"medium":"low"}determineNextAction(e){return"positive"===e.sentiment?"schedule_meeting":"negative"===e.sentiment?"respectful_closure":"provide_more_info"}decideFollowUp(e,t){let a;let s="negative_response"!==t.intent;if(!s)return{should_follow_up:!1,next_action:"respectful_closure",priority:"low"};let i="medium";return"positive_interest"===t.intent?(a="Great! I'd love to schedule a call to discuss this further. What times work best for you this week?",i="high"):"requesting_info"===t.intent&&(a="I'd be happy to share more details. Would you prefer a pitch deck, financials, or a brief call?",i="medium"),{should_follow_up:s,follow_up_message:a,next_action:t.next_best_action,priority:i}}async simulateWork(e){return new Promise(t=>setTimeout(t,e))}constructor(e,t){super({...e,name:e.name||"AI Outreach Agent",description:e.description||"AI agent specialized in personalized investor outreach and communication",agent_type:"ai",capabilities:["personalized_outreach","email_automation","linkedin_messaging","follow_up_sequences","response_handling","engagement_tracking"],skills:[{name:"Personalized Communication",level:"expert",description:"Creating highly personalized outreach messages based on investor research"},{name:"Multi-Channel Outreach",level:"advanced",description:"Coordinating outreach across email, LinkedIn, and other channels"},{name:"Follow-up Sequences",level:"advanced",description:"Designing and executing effective follow-up sequences"}]}),this.config={outreach_channels:["email","linkedin"],personalization_level:"high",follow_up_strategy:"multi",tone:"professional",include_tracking:!0,max_daily_outreach:50,...t}}}class g extends u{async execute(e){try{let{core_object_id:t,metadata:a}=e;if(!t)return this.handleError(Error("Core object ID is required for investor research"));let s=null==a?void 0:a.investor_name;if(!s)return this.handleError(Error("Investor name is required in metadata"));let i=await this.researchInvestor(s,e.company_id);return t&&await this.updateCoreObject(t,i),this.createResult(i,{investor_name:s,research_depth:this.config.research_depth,core_object_id:t})}catch(e){return this.handleError(e)}}async researchInvestor(e,t){try{this.updateStatus("busy");let t=await this.performResearch(e);return await this.logActivity({type:"investor_research",message:"Completed research on ".concat(e),data:{investor_name:e,research_depth:this.config.research_depth}}),this.updateStatus("active"),t}catch(t){throw this.updateStatus("error"),Error("Failed to research investor ".concat(e,": ").concat(t))}}async analyzePortfolio(e){try{this.updateStatus("busy");let t=await this.performPortfolioAnalysis(e);return await this.logActivity({type:"portfolio_analysis",message:"Analyzed portfolio of ".concat(e.length," companies"),data:{company_count:e.length}}),this.updateStatus("active"),t}catch(e){throw this.updateStatus("error"),Error("Failed to analyze portfolio: ".concat(e))}}async generateInvestorList(e){try{this.updateStatus("busy");let t=await this.performInvestorDiscovery(e);return await this.logActivity({type:"investor_discovery",message:"Generated investor list based on criteria: ".concat(JSON.stringify(e)),data:{criteria:e,investor_count:t.investors.length}}),this.updateStatus("active"),t}catch(e){throw this.updateStatus("error"),Error("Failed to generate investor list: ".concat(e))}}async updateCoreObject(e,t){try{new Date().toISOString(),this.id,console.log("Updating core object ".concat(e," with research data")),await this.logActivity({type:"core_object_update",message:"Updated core object ".concat(e," with research findings"),data:{core_object_id:e}})}catch(e){throw Error("Failed to update core object: ".concat(e))}}async performResearch(e){return await this.simulateWork(2e3),{investor_profile:{name:e,firm:"Example Capital",focus_areas:["SaaS","FinTech","AI/ML"],investment_stages:["Series A","Series B"],avg_check_size:"$5M-$15M",portfolio_size:45,founded:2010},investment_thesis:"".concat(e," focuses on B2B SaaS companies with strong unit economics and clear path to profitability. They prefer companies with $1M+ ARR and 100%+ growth rates."),portfolio_analysis:{total_investments:45,successful_exits:12,avg_roi:"3.2x",sector_breakdown:{SaaS:60,FinTech:25,"AI/ML":15}},network_connections:[{name:"John Smith",role:"Partner",connection_strength:"strong"},{name:"Jane Doe",role:"Principal",connection_strength:"medium"}],deal_flow_patterns:{avg_deal_flow:"50/month",conversion_rate:"2%",avg_time_to_close:"3 months"},recommendations:["Focus on unit economics in pitch deck","Highlight B2B SaaS metrics","Prepare for technical due diligence","Network with portfolio companies"]}}async performPortfolioAnalysis(e){return await this.simulateWork(1500),{sector_distribution:{SaaS:60,FinTech:25,"AI/ML":15},stage_distribution:{Seed:20,"Series A":40,"Series B":30,"Series C+":10},geographic_distribution:{"US West Coast":50,"US East Coast":30,Europe:15,Other:5},investment_patterns:{avg_check_size:"$8M",follow_on_rate:70,board_seat_rate:40},insights:["Strong preference for B2B SaaS companies","High follow-on investment rate","Active board participation","Geographic concentration in tech hubs"]}}async performInvestorDiscovery(e){return await this.simulateWork(3e3),{investors:[{name:"Sequoia Capital",match_score:95,reasoning:"Perfect alignment with B2B SaaS focus and investment stage",contact_info:{email:"partners@sequoia.com",linkedin:"linkedin.com/company/sequoia"}},{name:"Andreessen Horowitz",match_score:88,reasoning:"Strong AI/ML focus and similar investment thesis",contact_info:{email:"partners@a16z.com",linkedin:"linkedin.com/company/a16z"}}],reasoning:"Based on criteria: ".concat(JSON.stringify(e),". Focused on investors with proven track record in target sector and stage."),priority_scores:{"Sequoia Capital":95,"Andreessen Horowitz":88},next_steps:["Prepare customized pitch deck","Research recent investments","Identify warm introduction paths","Prepare financial projections"]}}async simulateWork(e){return new Promise(t=>setTimeout(t,e))}constructor(e,t){super({...e,name:e.name||"Investor Research Agent",description:e.description||"AI agent specialized in investor research and analysis",agent_type:"ai",capabilities:["investor_research","network_analysis","financial_analysis","deal_flow_analysis","market_research","competitor_analysis"],skills:[{name:"Investor Research",level:"expert",description:"Deep research on investors, their portfolio, and investment thesis"},{name:"Network Analysis",level:"advanced",description:"Mapping investor networks and connections"},{name:"Financial Analysis",level:"advanced",description:"Analyzing investor financials and deal patterns"}]}),this.config={data_sources:["crunchbase","pitchbook","linkedin","twitter","news"],research_depth:"comprehensive",output_format:"structured",include_network_analysis:!0,include_financial_analysis:!0,...t}}}let h={fundraising:{id:"fundraising",name:"Fundraising",description:"End-to-end fundraising workflow with AI-powered agents",phases:["identifying_investors","conflict_check","network_intro","direct_outreach","automated_intro","scheduling","avatar_negotiation","negotiation","closing"],agents:[{id:"investor_research",name:"Investor Research Agent",description:"Identifies and researches potential investors that match company criteria",phase:"identifying_investors",metaBox:"fundraising",config:{apis:["crunchbase","pitchbook","linkedin"],updateFrequency:"24h"}},{id:"conflict_detection",name:"Conflict Detection Agent",description:"Analyzes potential conflicts with investors portfolio companies",phase:"conflict_check",metaBox:"fundraising",config:{conflictTypes:["direct_competitor","indirect_competitor","market_overlap"],dataSource:["crunchbase","internal_db"]}},{id:"warm_intro_scout",name:"Warm Intro Scout Agent",description:"Identifies potential warm introduction paths to investors",phase:"network_intro",metaBox:"fundraising",config:{networks:["linkedin","internal_network","apollo"],depthLevel:2}},{id:"direct_outreach",name:"Direct Outreach Agent",description:"Manages direct outreach campaigns to investors",phase:"direct_outreach",metaBox:"fundraising",config:{channels:["email","linkedin"],templates:["intro","follow_up","meeting_request"]}},{id:"network_intersection",name:"Network Intersection Agent",description:"Analyzes network intersections for automated introductions",phase:"automated_intro",metaBox:"fundraising",config:{networks:["linkedin","angellist","internal"],minConnectionStrength:7}},{id:"auto_scheduler",name:"Auto Scheduler Agent",description:"Handles meeting scheduling with investors",phase:"scheduling",metaBox:"fundraising",config:{calendars:["google","outlook"],bufferTime:"15m"}},{id:"avatar_pitch",name:"Avatar Pitch Agent",description:"AI avatar for initial pitch meetings and Q&A",phase:"avatar_negotiation",metaBox:"fundraising",config:{models:["gpt4","claude"],knowledgeBase:["pitch_deck","financials","market"]}},{id:"negotiation",name:"Negotiation Agent",description:"Assists in term sheet negotiation and deal structuring",phase:"negotiation",metaBox:"fundraising",config:{templates:["term_sheet","cap_table"],benchmarks:["market_data","historical"]}},{id:"closing",name:"Closing Agent",description:"Manages closing process, documentation and wire transfers",phase:"closing",metaBox:"fundraising",config:{documents:["closing_docs","wire_instructions"],notifications:["email","slack"]}}]}};class p{static getInstance(){return p.instance||(p.instance=new p),p.instance}initializeCapabilities(){this.capabilities.set("investor_research",{name:"Investor Research",description:"Deep research on investors, their portfolio, and investment thesis",required_skills:["market_research","financial_analysis","network_analysis"],supported_phases:["fundraising"],supported_metaboxes:["fundraising"]}),this.capabilities.set("personalized_outreach",{name:"Personalized Outreach",description:"Creating and sending personalized outreach messages",required_skills:["communication","personalization","email_automation"],supported_phases:["fundraising","sales","marketing"],supported_metaboxes:["fundraising","sales","marketing"]}),this.capabilities.set("deal_flow_analysis",{name:"Deal Flow Analysis",description:"Analyzing deal flow patterns and investor behavior",required_skills:["data_analysis","pattern_recognition","financial_modeling"],supported_phases:["fundraising"],supported_metaboxes:["fundraising"]}),this.capabilities.set("network_analysis",{name:"Network Analysis",description:"Mapping and analyzing investor networks and connections",required_skills:["network_analysis","graph_theory","relationship_mapping"],supported_phases:["fundraising","sales"],supported_metaboxes:["fundraising","sales"]}),this.capabilities.set("financial_analysis",{name:"Financial Analysis",description:"Analyzing financial data and investment patterns",required_skills:["financial_modeling","data_analysis","valuation"],supported_phases:["fundraising","finance"],supported_metaboxes:["fundraising","finance"]}),this.capabilities.set("content_creation",{name:"Content Creation",description:"Creating marketing content and materials",required_skills:["copywriting","design","brand_strategy"],supported_phases:["marketing"],supported_metaboxes:["marketing"]}),this.capabilities.set("campaign_management",{name:"Campaign Management",description:"Managing marketing campaigns and automation",required_skills:["project_management","automation","analytics"],supported_phases:["marketing"],supported_metaboxes:["marketing"]}),this.capabilities.set("lead_generation",{name:"Lead Generation",description:"Identifying and qualifying sales leads",required_skills:["prospecting","qualification","research"],supported_phases:["sales"],supported_metaboxes:["sales"]}),this.capabilities.set("sales_automation",{name:"Sales Automation",description:"Automating sales processes and follow-ups",required_skills:["automation","crm_management","process_optimization"],supported_phases:["sales"],supported_metaboxes:["sales"]}),this.capabilities.set("feature_prioritization",{name:"Feature Prioritization",description:"Prioritizing product features based on user feedback and business goals",required_skills:["product_management","data_analysis","user_research"],supported_phases:["product"],supported_metaboxes:["product"]}),this.capabilities.set("user_research",{name:"User Research",description:"Conducting user research and gathering feedback",required_skills:["research_methods","data_analysis","user_empathy"],supported_phases:["product"],supported_metaboxes:["product"]})}registerAgent(e){let t={agent:e,metadata:{created_at:new Date().toISOString(),last_updated:new Date().toISOString(),usage_count:0,average_performance:0}};this.agents.set(e.id,t),d.info("Registered agent: ".concat(e.name," (").concat(e.id,")"))}unregisterAgent(e){let t=this.agents.delete(e);return t?d.info("Unregistered agent: ".concat(e)):d.warn("Attempted to unregister non-existent agent: ".concat(e)),t}getAgent(e){let t=this.agents.get(e);return t||d.warn("Agent not found: ".concat(e)),t?t.agent:null}getAllAgents(){return d.info("Fetching all registered agents"),Array.from(this.agents.values()).map(e=>e.agent)}findAgentsByCapability(e){return this.getAllAgents().filter(t=>t.capabilities.includes(e))}findAgentsByPhase(e){return this.getAllAgents().filter(t=>t.phase_id===e)}findAgentsByMetabox(e){return this.getAllAgents().filter(t=>t.metabox_id===e)}findAgentsByFilter(e){return this.getAllAgents().filter(t=>t.company_id===e.company_id&&(!e.metabox_id||t.metabox_id===e.metabox_id)&&(!e.phase_id||t.phase_id===e.phase_id)&&(!e.agent_type||!!e.agent_type.includes(t.agent_type))&&(!e.status||!!e.status.includes(t.status))&&(!e.capabilities||!!e.capabilities.some(e=>t.capabilities.includes(e)))&&(void 0===e.is_available||t.availability.is_available===e.is_available)&&(!e.current_core_object_id||t.current_core_object_id===e.current_core_object_id)&&(!e.created_at_before||!(t.created_at>e.created_at_before))&&(!e.created_at_after||!(t.created_at<e.created_at_after)))}findBestAgentForTask(e,t,a,s){var i;let n=this.getAllAgents().filter(i=>i.company_id===t&&!!e.every(e=>i.capabilities.includes(e))&&!!i.availability.is_available&&!(i.availability.current_task_count>=i.availability.max_concurrent_tasks)&&(!a||!i.phase_id||i.phase_id===a)&&(!s||!i.metabox_id||i.metabox_id===s));if(0===n.length)return null;let r=n.map(e=>{let t;let a=this.agents.get(e.id);if(!a)return{agent:e,score:0};t=0+.4*a.metadata.average_performance+(.3*(100-e.availability.current_task_count/e.availability.max_concurrent_tasks*100)+.2*e.performance_metrics.success_rate);let s=(Date.now()-new Date(e.performance_metrics.last_activity).getTime())/864e5;return{agent:e,score:t+=.1*Math.max(0,100-10*s)}});return r.sort((e,t)=>t.score-e.score),(null===(i=r[0])||void 0===i?void 0:i.agent)||null}getCapabilities(){return Array.from(this.capabilities.values())}getCapability(e){return this.capabilities.get(e)||null}updateAgentPerformance(e,t){let a=this.agents.get(e);if(a){a.metadata.usage_count++,a.metadata.last_updated=new Date().toISOString();let s=a.metadata.average_performance,i=a.metadata.usage_count;a.metadata.average_performance=(s*(i-1)+t)/i,d.info("Updated performance for agent ".concat(e,": new avg=").concat(a.metadata.average_performance))}else d.warn("Attempted to update performance for non-existent agent: ".concat(e))}createAgentFromTemplate(e,t){switch(e){case"investor_research":return d.info("Creating InvestorResearchAgent from template"),new g(t);case"ai_outreach":return d.info("Creating AIOutreachAgent from template"),new m(t);default:return d.warn("Unknown agent template: ".concat(e)),null}}getAgentTemplates(){return[{name:"investor_research",description:"AI agent specialized in investor research and analysis",capabilities:["investor_research","network_analysis","financial_analysis"],supported_phases:["fundraising"],supported_metaboxes:["fundraising"]},{name:"ai_outreach",description:"AI agent specialized in personalized investor outreach",capabilities:["personalized_outreach","email_automation","follow_up_sequences"],supported_phases:["fundraising","sales","marketing"],supported_metaboxes:["fundraising","sales","marketing"]}]}getAgentStats(){let e=this.getAllAgents(),t=e.length,a=e.filter(e=>"active"===e.status).length,s={},i={};e.forEach(e=>{s[e.agent_type]=(s[e.agent_type]||0)+1,i[e.status]=(i[e.status]||0)+1});let n=e.reduce((e,t)=>e+t.performance_metrics.success_rate,0);return{total_agents:t,active_agents:a,agents_by_type:s,agents_by_status:i,average_performance:t>0?n/t:0}}constructor(){this.agents=new Map,this.capabilities=new Map,this.initializeCapabilities()}}class _{static getInstance(){return _.instance||(_.instance=new _),_.instance}async createTask(e,t,a,s,i){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"medium",r=arguments.length>6?arguments[6]:void 0,o={id:"task_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),type:e,priority:n,status:"pending",core_object_id:t,company_id:a,capabilities_required:s,context:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return i.phase_id&&(o.phase_id=i.phase_id),i.metabox_id&&(o.metabox_id=i.metabox_id),r&&(o.metadata=r),this.tasks.set(o.id,o),this.taskQueue.push(o.id),this.taskQueue.sort((e,t)=>{let a=this.tasks.get(e),s=this.tasks.get(t);if(!a||!s)return 0;let i={urgent:4,high:3,medium:2,low:1};return i[s.priority]-i[a.priority]}),d.setQueueLength(this.taskQueue.length),d.updateTaskMetrics("pending"),d.info("Created task: ".concat(o.id," (").concat(e,") with priority ").concat(n)),o}async assignTask(e){let t=this.tasks.get(e);if(!t)throw d.error("Task not found: ".concat(e)),Error("Task not found: ".concat(e));if("pending"!==t.status)throw d.error("Task ".concat(e," is not in pending status")),Error("Task ".concat(e," is not in pending status"));let a=this.registry.findBestAgentForTask(t.capabilities_required,t.company_id,t.phase_id,t.metabox_id);return a?a.availability.current_task_count>=a.availability.max_concurrent_tasks?(d.warn("Agent ".concat(a.id," is at capacity")),null):(t.assigned_agent_id=a.id,t.status="in_progress",t.updated_at=new Date().toISOString(),a.availability.current_task_count++,a.current_core_object_id=t.core_object_id,d.info("Assigned task ".concat(e," to agent ").concat(a.name," (").concat(a.id,")")),a):(d.warn("No suitable agent found for task ".concat(e)),null)}async executeTask(e){var t,a,s,i;let n=this.tasks.get(e);if(!n)throw d.error("Task not found: ".concat(e)),Error("Task not found: ".concat(e));if(!n.assigned_agent_id)throw d.error("Task ".concat(e," is not assigned to an agent")),Error("Task ".concat(e," is not assigned to an agent"));let r=this.registry.getAgent(n.assigned_agent_id);if(!r)throw d.error("Assigned agent not found: ".concat(n.assigned_agent_id)),Error("Assigned agent not found: ".concat(n.assigned_agent_id));let o=d.startTimer("task_execution",{taskId:e,agentId:r.id,agentName:r.name,taskType:n.type});try{d.info("Executing task ".concat(e," with agent ").concat(r.name));let s=await r.execute(n.context);n.status=s.success?"completed":"failed",n.result=s.data,n.error=s.error,n.completed_at=new Date().toISOString(),n.updated_at=new Date().toISOString(),r.availability.current_task_count--,r.availability.current_task_count<0&&(r.availability.current_task_count=0),s.success?this.registry.updateAgentPerformance(r.id,100):this.registry.updateAgentPerformance(r.id,0);let i=d.endTimer(o,{success:s.success,taskStatus:n.status});return i&&(d.updateTaskMetrics(n.status,i.duration),d.updateAgentMetrics(String(null!==(t=r.id)&&void 0!==t?t:""),String(null!==(a=r.name)&&void 0!==a?a:""),s.success,i.duration)),d.info("Task ".concat(e," ").concat(s.success?"completed":"failed")),s}catch(a){d.error("Error executing task ".concat(e," with agent ").concat((null==r?void 0:r.name)||"unknown",":"),a);let t=d.endTimer(o,{success:!1,error:a instanceof Error?a.message:"Unknown error"});throw t&&(d.updateTaskMetrics("failed",t.duration),d.updateAgentMetrics(String(null!==(s=r.id)&&void 0!==s?s:""),String(null!==(i=r.name)&&void 0!==i?i:""),!1,t.duration)),n.status="failed",n.error=a instanceof Error?a.message:"Unknown error",n.updated_at=new Date().toISOString(),r.availability.current_task_count--,r.availability.current_task_count<0&&(r.availability.current_task_count=0),d.error("Task ".concat(e," execution failed:"),a),a}}async createCollaboration(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parallel";if(!this.tasks.get(e))throw Error("Task not found: ".concat(e));let i={task_id:e,primary_agent_id:t,collaborating_agents:a,collaboration_type:s,status:"active",created_at:new Date().toISOString()},n="collab_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));return this.collaborations.set(n,i),d.info("Created collaboration for task ".concat(e," with ").concat(a.length," agents")),i}async executeCollaboration(e){let t=this.collaborations.get(e);if(!t)throw Error("Collaboration not found: ".concat(e));let a=this.tasks.get(t.task_id);if(!a)throw Error("Task not found: ".concat(t.task_id));let s=[];try{if("parallel"===t.collaboration_type){let e=t.collaborating_agents.map(async e=>{let s=this.registry.getAgent(e.agent_id);if(!s)throw Error("Collaborating agent not found: ".concat(e.agent_id));let i={...a.context,metadata:{...a.context.metadata,collaboration_role:e.role,primary_agent_id:t.primary_agent_id,contribution:e.contribution}};return await s.execute(i)}),i=await Promise.all(e);s.push(...i)}else if("sequential"===t.collaboration_type)for(let e of t.collaborating_agents){let i=this.registry.getAgent(e.agent_id);if(!i)throw Error("Collaborating agent not found: ".concat(e.agent_id));let n={...a.context,metadata:{...a.context.metadata,collaboration_role:e.role,primary_agent_id:t.primary_agent_id,contribution:e.contribution,previous_results:s}},r=await i.execute(n);s.push(r)}else if("review"===t.collaboration_type){let e=this.registry.getAgent(t.primary_agent_id);if(!e)throw Error("Primary agent not found: ".concat(t.primary_agent_id));let i=await e.execute(a.context);for(let e of(s.push(i),t.collaborating_agents)){let t=this.registry.getAgent(e.agent_id);if(!t)continue;let n={...a.context,metadata:{...a.context.metadata,collaboration_role:"reviewer",primary_result:i,contribution:e.contribution}},r=await t.execute(n);s.push(r)}}return t.status="completed",t.completed_at=new Date().toISOString(),d.info("Collaboration ".concat(e," completed with ").concat(s.length," results")),s}catch(a){throw t.status="failed",d.error("Collaboration ".concat(e," failed:"),a),a}}async handoffTask(e,t,a){let s=this.tasks.get(e);if(!s)throw Error("Task not found: ".concat(e));let i=this.registry.getAgent(t);if(!i)throw Error("Target agent not found: ".concat(t));if(!s.capabilities_required.every(e=>i.capabilities.includes(e)))throw Error("Target agent ".concat(t," does not have required capabilities"));if(i.availability.current_task_count>=i.availability.max_concurrent_tasks)throw Error("Target agent ".concat(t," is at capacity"));if(s.assigned_agent_id){let e=this.registry.getAgent(s.assigned_agent_id);e&&(e.availability.current_task_count--,e.availability.current_task_count<0&&(e.availability.current_task_count=0))}return s.assigned_agent_id=t,s.updated_at=new Date().toISOString(),s.metadata={...s.metadata,handoff_reason:a,handoff_timestamp:new Date().toISOString()},i.availability.current_task_count++,i.current_core_object_id=s.core_object_id,d.info("Handed off task ".concat(e," from ").concat(s.assigned_agent_id," to ").concat(t,": ").concat(a)),!0}getTask(e){return this.tasks.get(e)||null}getTasksByStatus(e){return Array.from(this.tasks.values()).filter(t=>t.status===e)}getTasksByAgent(e){return Array.from(this.tasks.values()).filter(t=>t.assigned_agent_id===e)}getTasksByCompany(e){return Array.from(this.tasks.values()).filter(t=>t.company_id===e)}getTaskQueue(){return this.taskQueue.map(e=>this.tasks.get(e)).filter(Boolean)}getCollaboration(e){return this.collaborations.get(e)||null}getCollaborationsByTask(e){return Array.from(this.collaborations.values()).filter(t=>t.task_id===e)}getOrchestratorStats(){let e=Array.from(this.tasks.values()),t=e.length,a={},s={};e.forEach(e=>{a[e.status]=(a[e.status]||0)+1,s[e.priority]=(s[e.priority]||0)+1});let i=Array.from(this.collaborations.values()).filter(e=>"active"===e.status).length,n=e.filter(e=>"completed"===e.status&&e.completed_at);return{total_tasks:t,tasks_by_status:a,tasks_by_priority:s,active_collaborations:i,average_task_completion_time_hours:n.length>0?n.reduce((e,t)=>{let a=new Date(t.created_at).getTime();return e+(new Date(t.completed_at).getTime()-a)/36e5},0)/n.length:0}}getPhaseId(e){return"string"==typeof e?e:e&&"string"==typeof e.id?e.id:""}async executePhase(e,t){if(!h[e])throw d.error("Meta box ".concat(e," not found")),Error("Meta box ".concat(e," not found"));let a=function(e,t){let a=h[e];return a?a.agents.filter(e=>e.phase===t):[]}(e,t);if(0===a.length)throw d.error("No agents found for phase ".concat(t," in meta box ").concat(e)),Error("No agents found for phase ".concat(t," in meta box ").concat(e));let s=[];for(let m of a){var i,n,r,o,c,l,u;try{let a=String(null!=t?t:""),o=this.registry.findAgentsByFilter({company_id:m.company_id||"",metabox_id:e,phase_id:a}).find(e=>{var t;return e.name===String(null!==(t=m.name)&&void 0!==t?t:"")});if(!o)throw d.error("Agent instance not found for ".concat(String(null!==(i=m.name)&&void 0!==i?i:"")," (id: ").concat(String(null!==(n=m.id)&&void 0!==n?n:""),") in phase ").concat(a,", metabox ").concat(e)),Error("Agent instance not found for ".concat(String(null!==(r=m.name)&&void 0!==r?r:"")));let c=await o.execute({metabox_id:e,phase_id:a,company_id:m.company_id||"",metadata:{execution_type:"phase_execution",phase_id:a,meta_box_id:e}});s.push(c)}catch(i){let a=String(null!=t?t:"");d.error("Agent execution error for agent ".concat(String(null!==(o=m.name)&&void 0!==o?o:"")," (id: ").concat(String(null!==(c=m.id)&&void 0!==c?c:""),") in phase ").concat(a,", metabox ").concat(e,":"),i),s.push({success:!1,data:null,error:i instanceof Error?i.message:"Unknown error",metadata:{agent_id:String(null!==(l=m.id)&&void 0!==l?l:""),agent_name:String(null!==(u=m.name)&&void 0!==u?u:""),metabox_id:e,phase_id:a,timestamp:new Date().toISOString(),execution_type:"phase_execution"}})}}return s}async executeWorkflow(e){let t=h[e];if(!t)throw Error("Meta box ".concat(e," not found"));let a={};for(let s of t.phases)try{let t=this.getPhaseId(s)||"";a[t]=await this.executePhase(e,t)}catch(i){let t=this.getPhaseId(s)||"";d.error("Phase execution error for ".concat(t," in metabox ").concat(e,":"),i),a[t]=[{success:!1,data:null,error:i instanceof Error?i.message:"Unknown error",metadata:{metabox_id:e,phase_id:t,timestamp:new Date().toISOString(),execution_type:"workflow_execution"}}]}return a}async executeParallelPhases(e,t){if(0===t.length)return{};if(1===t.length){let a=await this.executePhase(e,t[0]);return{[t[0]]:a}}let a=t.map(async t=>{let a=String(null!=t?t:"");try{let t=await this.executePhase(e,a);return{phaseId:a,results:t}}catch(t){return d.error("Parallel phase execution error for ".concat(a," in metabox ").concat(e,":"),t),{phaseId:a,results:[{success:!1,data:null,error:t instanceof Error?t.message:"Unknown error",metadata:{metabox_id:e,phase_id:a,timestamp:new Date().toISOString(),execution_type:"parallel_phase_execution"}}]}}}),s=await Promise.all(a),i={};for(let{phaseId:e,results:t}of s){let a=String(null!=e?e:"");a&&(i[a]=t)}return i}constructor(){this.tasks=new Map,this.collaborations=new Map,this.taskQueue=[],this.registry=p.getInstance()}}let x=e=>{let{companyId:t,metaboxId:a,phaseId:i,maxItems:n=50}=e,[r,o]=(0,c.useState)([]),[l,d]=(0,c.useState)(!0),[u,m]=(0,c.useState)("all");(0,c.useEffect)(()=>{g();let e=setInterval(g,3e3);return()=>clearInterval(e)},[t,a,i]);let g=async()=>{try{let e=_.getInstance(),s=p.getInstance(),r=[];e.getTasksByCompany(t).forEach(e=>{if(a&&e.metabox_id!==a||i&&e.phase_id!==i)return;let t=e.assigned_agent_id?s.getAgent(e.assigned_agent_id):null;r.push({id:"task_".concat(e.id),type:"completed"===e.status?"task_completed":"failed"===e.status?"task_failed":e.assigned_agent_id?"task_assigned":"task_created",title:"".concat(e.type," Task"),description:'Task "'.concat(e.type,'" ').concat("completed"===e.status?"completed successfully":"failed"===e.status?"failed":e.assigned_agent_id?"assigned to ".concat((null==t?void 0:t.name)||"agent"):"created"),timestamp:e.assigned_agent_id?e.updated_at:e.created_at,agentId:e.assigned_agent_id,agentName:null==t?void 0:t.name,taskId:e.id,status:e.status,priority:e.priority,metadata:e.metadata})}),Array.from(e.collaborations.values()).filter(s=>{let n=e.getTask(s.task_id);return n&&n.company_id===t&&(!a||n.metabox_id===a)&&(!i||n.phase_id===i)}).forEach(t=>{let a=e.getTask(t.task_id);a&&r.push({id:"collab_".concat(t.task_id),type:"completed"===t.status?"collaboration_completed":"collaboration_started",title:"Agent Collaboration",description:"".concat(t.collaborating_agents.length," agents collaborating on ").concat(a.type," task"),timestamp:"completed"===t.status?t.completed_at:t.created_at,taskId:t.task_id,collaborationId:t.task_id,status:t.status,metadata:{collaboration_type:t.collaboration_type,agent_count:t.collaborating_agents.length}})}),s.findAgentsByFilter({company_id:t,...a&&{metabox_id:a},...i&&{phase_id:i}}).forEach(e=>{let t=new Date(e.performance_metrics.last_activity);new Date().getTime()-t.getTime()<6e4&&r.push({id:"agent_activity_".concat(e.id,"_").concat(t.getTime()),type:"agent_status_changed",title:"Agent Activity",description:"".concat(e.name," completed a task successfully"),timestamp:e.performance_metrics.last_activity,agentId:e.id,agentName:e.name,status:e.status,metadata:{tasks_completed:e.performance_metrics.tasks_completed,success_rate:e.performance_metrics.success_rate}})}),r.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),o(r.slice(0,n))}catch(e){console.error("Failed to load activities:",e)}finally{d(!1)}},h=e=>{switch(e){case"task_created":return"\uD83D\uDCCB";case"task_assigned":return"\uD83D\uDC64";case"task_completed":return"✅";case"task_failed":return"❌";case"collaboration_started":return"\uD83E\uDD1D";case"collaboration_completed":return"\uD83C\uDF89";case"agent_status_changed":return"⚡";case"agent_created":return"\uD83E\uDD16";default:return"\uD83D\uDCDD"}},x=e=>{switch(e){case"task_completed":return"text-green-600 bg-green-50 border-green-200";case"task_failed":return"text-red-600 bg-red-50 border-red-200";case"collaboration_completed":return"text-purple-600 bg-purple-50 border-purple-200";case"agent_status_changed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},f=e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=e=>{let t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),i=Math.floor(a/36e5),n=Math.floor(a/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):i<24?"".concat(i,"h ago"):n<7?"".concat(n,"d ago"):t.toLocaleDateString()},b=r.filter(e=>"all"===u||("tasks"===u?e.type.includes("task"):"collaborations"===u?e.type.includes("collaboration"):"agents"!==u||e.type.includes("agent")));return l?(0,s.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Feed"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time agent activities and task progress"})]}),(0,s.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All",icon:"\uD83D\uDCCA"},{key:"tasks",label:"Tasks",icon:"\uD83D\uDCCB"},{key:"collaborations",label:"Collaborations",icon:"\uD83E\uDD1D"},{key:"agents",label:"Agents",icon:"\uD83E\uDD16"}].map(e=>(0,s.jsxs)("button",{onClick:()=>m(e.key),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat(u===e.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,s.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.key))})]}),(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===b.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCDD"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No activities found"})]}):b.map(e=>{var t,a;return(0,s.jsx)("div",{className:"p-4 rounded-lg border ".concat(x(e.type)," transition-all hover:shadow-md"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xl",children:h(e.type)})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:y(e.timestamp)})]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[e.agentName&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["\uD83E\uDD16 ",e.agentName]}),e.priority&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(f(e.priority)),children:e.priority.toUpperCase()}),e.status&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.status}),(null===(t=e.metadata)||void 0===t?void 0:t.collaboration_type)&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.metadata.collaboration_type}),(null===(a=e.metadata)||void 0===a?void 0:a.agent_count)&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.metadata.agent_count," agents"]})]})]})]})},e.id)})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh Activity Feed"})})]})},f=e=>{let{companyId:t,metaboxId:a,phaseId:i}=e,[n,r]=(0,c.useState)([]),[o,l]=(0,c.useState)(null),[d,u]=(0,c.useState)(null),[m,g]=(0,c.useState)(!1),[h,_]=(0,c.useState)(!0);(0,c.useEffect)(()=>{x();let e=setInterval(x,5e3);return()=>clearInterval(e)},[t,a,i]);let x=async()=>{try{let e=p.getInstance(),s=e.findAgentsByFilter({company_id:t,metabox_id:a,phase_id:i}).map(e=>e.toAgentModel());r(s);let n=e.getAgentStats();l(n)}catch(e){console.error("Failed to load agents:",e)}finally{_(!1)}},f=async(e,s)=>{try{let n=p.getInstance(),r=n.createAgentFromTemplate(e,{...s,company_id:t,metabox_id:a,phase_id:i});r&&(n.registerAgent(r),await x(),g(!1))}catch(e){console.error("Failed to create agent:",e)}},w=async(e,t)=>{try{let a=p.getInstance().getAgent(e);a&&(a.updateStatus(t),await x())}catch(e){console.error("Failed to update agent status:",e)}};return h?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Agent Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage and monitor your AI agents"})]}),(0,s.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,s.jsx)("span",{children:"\uD83E\uDD16"}),(0,s.jsx)("span",{children:"Create Agent"})]})]}),o&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Agents"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.total_agents})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)("span",{className:"text-2xl",children:"✅"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Agents"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.active_agents})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Performance"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[o.average_performance.toFixed(1),"%"]})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)("span",{className:"text-2xl",children:"⚡"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"AI Agents"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.agents_by_type.ai||0})]})]})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,s.jsx)(y,{agent:e,onSelect:()=>u(e),onStatusUpdate:w},e.id))}),0===n.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD16"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No agents found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first AI agent to get started"}),(0,s.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Create Agent"})]}),m&&(0,s.jsx)(b,{onClose:()=>g(!1),onCreate:f,companyId:t,metaboxId:a,phaseId:i}),d&&(0,s.jsx)(v,{agent:d,onClose:()=>u(null),onStatusUpdate:w})]})},y=e=>{let{agent:t,onSelect:a,onStatusUpdate:i}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer",children:[(0,s.jsxs)("div",{className:"p-6",onClick:a,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:(e=>{switch(e){case"ai":return"\uD83E\uDD16";case"human":return"\uD83D\uDC64";case"hybrid":return"\uD83D\uDD17";default:return"❓"}})(t.agent_type)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:t.agent_type.toUpperCase()})]})]}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((e=>{switch(e){case"active":return"bg-green-500";case"idle":default:return"bg-gray-500";case"busy":return"bg-yellow-500";case"error":return"bg-red-500";case"offline":return"bg-gray-400";case"maintenance":return"bg-blue-500"}})(t.status))})]}),t.description&&(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"CAPABILITIES"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.capabilities.slice(0,3).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},e)),t.capabilities.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",t.capabilities.length-3," more"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Success Rate"}),(0,s.jsxs)("p",{className:"font-semibold text-gray-900",children:[t.performance_metrics.success_rate.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Tasks Completed"}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:t.performance_metrics.tasks_completed})]})]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Last activity: ",new Date(t.performance_metrics.last_activity).toLocaleString()]})})]}),(0,s.jsxs)("div",{className:"px-6 pb-4 flex space-x-2",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.id,"active"===t.status?"idle":"active")},className:"flex-1 px-3 py-2 text-sm rounded-md transition-colors ".concat("active"===t.status?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:"active"===t.status?"Pause":"Activate"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),a()},className:"flex-1 px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:"Details"})]})]})},b=e=>{let{onClose:t,onCreate:a,companyId:i,metaboxId:n,phaseId:r}=e,[o,l]=(0,c.useState)(""),[d,u]=(0,c.useState)(""),[m,g]=(0,c.useState)("");return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Agent"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Agent Template"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:[{id:"investor_research",name:"Investor Research Agent",description:"AI agent specialized in investor research and analysis",icon:"\uD83D\uDD0D",capabilities:["investor_research","network_analysis","financial_analysis"]},{id:"ai_outreach",name:"AI Outreach Agent",description:"AI agent specialized in personalized investor outreach",icon:"\uD83D\uDCE7",capabilities:["personalized_outreach","email_automation","follow_up_sequences"]}].map(e=>(0,s.jsx)("div",{onClick:()=>l(e.id),className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat(o===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.capabilities.map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},e))})]})]})},e.id))})]}),o&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Name"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter agent name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),(0,s.jsx)("textarea",{value:m,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter agent description"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{o&&d&&a(o,{name:d,description:m,company_id:i,metabox_id:n,phase_id:r,agent_type:"ai"})},disabled:!o||!d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Agent"})]})]})})},v=e=>{let{agent:t,onClose:a,onStatusUpdate:i}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Agent Details"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,s.jsx)("p",{className:"text-gray-900",children:t.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Type"}),(0,s.jsx)("p",{className:"text-gray-900",children:t.agent_type.toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,s.jsx)("p",{className:"text-gray-900",children:t.status})]}),t.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,s.jsx)("p",{className:"text-gray-900",children:t.description})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Success Rate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.performance_metrics.success_rate.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Tasks Completed"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.performance_metrics.tasks_completed})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Tasks Failed"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.performance_metrics.tasks_failed})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Completion Time"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.performance_metrics.average_completion_time_hours,"h"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Capabilities"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.capabilities.map(e=>(0,s.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Skills"}),(0,s.jsx)("div",{className:"space-y-2",children:t.skills.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-900",children:e.name}),(0,s.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:e.level})]},e.name))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[(0,s.jsx)("button",{onClick:()=>i(t.id,"active"===t.status?"idle":"active"),className:"px-4 py-2 rounded-md transition-colors ".concat("active"===t.status?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:"active"===t.status?"Pause Agent":"Activate Agent"}),(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Close"})]})]})})};function w(){let[e,t]=(0,c.useState)(null),[a,i]=(0,c.useState)(!1),[r,l]=(0,c.useState)("agents"),d=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},u=e=>{switch(e){case"completed":return"bg-green-500";case"in-progress":return"bg-blue-500";default:return"bg-gray-400"}};return(0,s.jsxs)("div",{className:"h-screen bg-gray-50 flex",children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Fundraising - Command Center"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),(0,s.jsxs)("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o(),{href:"/dashboard",className:"mr-3",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Fundraising"})]})}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("button",{onClick:()=>l("agents"),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors ".concat("agents"===r?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"\uD83E\uDD16 Agents"}),(0,s.jsx)("button",{onClick:()=>l("activity"),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors ".concat("activity"===r?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"\uD83D\uDCCA Activity"})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:"agents"===r?(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(f,{companyId:"demo-company",metaboxId:"fundraising",phaseId:"fundraising-phase"})}):(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(x,{companyId:"demo-company",metaboxId:"fundraising",phaseId:"fundraising-phase",maxItems:20})})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Investor Pipeline"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Track and manage your fundraising process with AI agents"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"Add Investor"}),(0,s.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,s.jsx)("div",{className:"flex space-x-6 h-full",children:[{id:"identify",title:"Identify Investors",color:"bg-gray-100",cards:[{id:"1",title:"Sequoia Capital",description:"Series A lead investor, $10M target",status:"identify",priority:"high",assignee:"AI Scout",dueDate:"2024-02-15",tags:["Series A","Lead"]},{id:"2",title:"Andreessen Horowitz",description:"Follow-on investment opportunity",status:"identify",priority:"medium",assignee:"AI Scout",dueDate:"2024-02-20",tags:["Series A","Follow-on"]}]},{id:"conflict",title:"Conflict Check",color:"bg-yellow-100",cards:[{id:"3",title:"Benchmark Capital",description:"Portfolio conflict analysis needed",status:"conflict",priority:"high",assignee:"AI Legal",dueDate:"2024-02-18",tags:["Legal","Conflict"]}]},{id:"outreach",title:"Intro/Outreach",color:"bg-blue-100",cards:[{id:"4",title:"First Round Capital",description:"Initial outreach and pitch deck sent",status:"outreach",priority:"medium",assignee:"AI Outreach",dueDate:"2024-02-22",tags:["Outreach","Pitch"]}]},{id:"meeting",title:"Meeting Scheduled",color:"bg-purple-100",cards:[{id:"5",title:"Kleiner Perkins",description:"Partner meeting scheduled for next week",status:"meeting",priority:"high",assignee:"AI Scheduler",dueDate:"2024-02-25",tags:["Meeting","Partner"]}]},{id:"negotiation",title:"Negotiation",color:"bg-orange-100",cards:[{id:"6",title:"Accel Partners",description:"Term sheet under review",status:"negotiation",priority:"high",assignee:"AI Negotiator",dueDate:"2024-03-01",tags:["Term Sheet","Review"]}]},{id:"closed",title:"Closed",color:"bg-green-100",cards:[{id:"7",title:"Index Ventures",description:"Deal closed successfully",status:"closed",priority:"low",assignee:"AI Closer",dueDate:"2024-01-30",tags:["Closed","Success"]}]}].map(e=>(0,s.jsx)("div",{className:"flex-shrink-0 w-80",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 h-full flex flex-col",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.cards.length})]})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-3",children:e.cards.map(e=>(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 hover:shadow-sm transition-all",onClick:()=>{t(e),i(!0)},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(d(e.priority))})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.assignee}),(0,s.jsx)("div",{className:"flex space-x-1",children:e.tags.map(e=>(0,s.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},e))})]})]},e.id))})})]})},e.id))})})]}),(0,s.jsxs)("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Fundraising Phases"})}),(0,s.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-4",children:[{name:"Discovery",status:"completed",agents:["AI Scout","AI Researcher"],description:"Identify and research potential investors"},{name:"Validation",status:"in-progress",agents:["AI Legal","AI Compliance"],description:"Conflict checks and due diligence"},{name:"Engagement",status:"pending",agents:["AI Outreach","AI Scheduler"],description:"Initial contact and meeting scheduling"},{name:"Negotiation",status:"pending",agents:["AI Negotiator","AI Legal"],description:"Term sheet negotiation and legal review"},{name:"Closing",status:"pending",agents:["AI Closer","AI Finance"],description:"Final documentation and fund transfer"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(u(e.status))})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsx)("div",{className:"space-y-2",children:e.agents.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,s.jsx)("span",{className:"text-xs text-gray-700",children:e})]},e))})]},e.name))})})]}),a&&e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",children:(0,s.jsxs)("div",{className:"w-96 bg-white h-full overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Investor Details"}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Status"}),(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Assignee"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.assignee})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Due Date"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.dueDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e},e))})]})]})})]})})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=1444)}),_N_E=e.O()}]);