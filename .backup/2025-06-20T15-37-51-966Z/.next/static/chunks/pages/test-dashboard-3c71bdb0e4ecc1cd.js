(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{2901:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-dashboard",function(){return n(8007)}])},8007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(5893),d=n(7294);let s=e=>e>=90?"green":"red";function i(){let[e,t]=(0,d.useState)(null),[n,i]=(0,d.useState)(!0),[l,a]=(0,d.useState)(""),c=async()=>{i(!0),a("");try{let e=await fetch("/api/test-status");if(!e.ok)throw Error("Failed to fetch");let n=await e.json();t(n)}catch(e){a("Failed to fetch test status")}finally{i(!1)}};return((0,d.useEffect)(()=>{c();let e=setInterval(c,3e4);return()=>clearInterval(e)},[]),n)?(0,r.jsx)("div",{style:{padding:40},children:"Loading..."}):l?(0,r.jsx)("div",{style:{padding:40,color:"red"},children:l}):e?(0,r.jsxs)("div",{style:{padding:40,fontFamily:"Inter, sans-serif"},children:[(0,r.jsx)("h1",{style:{fontSize:32,fontWeight:700,marginBottom:24},children:"Test Dashboard"}),(0,r.jsx)("button",{onClick:c,style:{marginBottom:24,padding:"8px 16px",borderRadius:4,border:"1px solid #ccc",background:"#f9f9f9",cursor:"pointer"},children:"Refresh"}),(0,r.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%",maxWidth:600},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{textAlign:"left",padding:8},children:"Environment"}),(0,r.jsx)("th",{style:{textAlign:"center",padding:8},children:"Backend"}),(0,r.jsx)("th",{style:{textAlign:"center",padding:8},children:"Frontend"}),(0,r.jsx)("th",{style:{textAlign:"center",padding:8},children:"Coverage"})]})}),(0,r.jsx)("tbody",{children:["dev","staging","prod"].map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{padding:8,fontWeight:600},children:t.toUpperCase()}),(0,r.jsxs)("td",{style:{padding:8,textAlign:"center",color:s(e[t].backend)},children:[e[t].backend,"%"]}),(0,r.jsxs)("td",{style:{padding:8,textAlign:"center",color:s(e[t].frontend)},children:[e[t].frontend,"%"]}),(0,r.jsxs)("td",{style:{padding:8,textAlign:"center",color:s(e[t].coverage)},children:[e[t].coverage,"%"]})]},t))})]}),(0,r.jsx)("p",{style:{marginTop:24,color:"#888"},children:"Auto-refreshes every 30 seconds."})]}):(0,r.jsx)("div",{style:{padding:40},children:"No data"})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2901)}),_N_E=e.O()}]);