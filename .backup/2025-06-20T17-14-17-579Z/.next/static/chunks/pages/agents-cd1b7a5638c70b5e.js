(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{5541:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agents",function(){return t(7503)}])},9780:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(5893);t(7294);var r=t(1664),n=t.n(r),l=t(1163),i=()=>{let e=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Command Center"})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6",children:(0,a.jsx)("ul",{className:"space-y-2",children:[{icon:"\uD83C\uDFE0",label:"Activities",href:"/dashboard"},{icon:"\uD83E\uDD16",label:"Agents",href:"/agents"}].map(s=>(0,a.jsx)("li",{children:(0,a.jsxs)(n(),{href:s.href,className:"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(e.pathname===s.href?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)("span",{className:"mr-3 text-lg",children:s.icon}),s.label]})},s.label))})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"John Doe"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"john@company.com"})]})]})})]})},c=e=>{let{children:s}=e;return(0,a.jsxs)("div",{className:"h-screen bg-gray-50 flex",children:[(0,a.jsx)(i,{}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:s})]})}},7503:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),r=t(9008),n=t.n(r),l=t(7294),i=e=>{let{className:s=""}=e,[t,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null),[o,x]=(0,l.useState)(null);(0,l.useEffect)(()=>{m();let e=setInterval(m,5e3);return()=>clearInterval(e)},[]);let m=async()=>{try{let e=[{id:"agent_1",name:"Data Processing Agent",status:"idle",health:{lastCheck:new Date,isAlive:!0,errorCount:0},logs:[{timestamp:new Date(Date.now()-6e4),action:"register",message:"Agent registered successfully",level:"info"}]},{id:"agent_2",name:"Email Agent",status:"busy",health:{lastCheck:new Date,isAlive:!0,errorCount:2},logs:[{timestamp:new Date(Date.now()-3e4),action:"assign",message:"Assigned email processing task",level:"info"}]},{id:"agent_3",name:"Analytics Agent",status:"error",health:{lastCheck:new Date(Date.now()-12e4),isAlive:!1,errorCount:5},logs:[{timestamp:new Date(Date.now()-6e4),action:"error",message:"Failed to process analytics data",level:"error"}]}];r(e),i(!1)}catch(e){d("Failed to load agents"),i(!1)}},h=e=>{switch(e){case"idle":return"bg-green-100 text-green-800 border-green-200";case"busy":return"bg-blue-100 text-blue-800 border-blue-200";case"error":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=e=>{switch(e){case"idle":return"Idle";case"busy":return"Busy";case"error":return"Error";case"offline":return"Offline";default:return"Unknown"}},u=async(e,s)=>{try{console.log("Performing ".concat(s," on agent ").concat(e)),await new Promise(e=>setTimeout(e,1e3)),await m()}catch(e){d("Failed to perform ".concat(s," on agent"))}},b=t.find(e=>e.id===o);return n?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-200 rounded"},e))})]})}):c?(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-red-200 p-6 ".concat(s),children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Error Loading Agents"}),(0,a.jsx)("p",{className:"text-sm",children:c})]}),(0,a.jsx)("button",{onClick:m,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Retry"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 ".concat(s),children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Agent Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Monitor and manage your agents"})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-1/2 border-r border-gray-200",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat(o===e.id?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>x(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full border ".concat(h(e.status)),children:g(e.status)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Errors: ",e.health.errorCount]}),(0,a.jsxs)("span",{children:["Last check: ",e.health.lastCheck.toLocaleTimeString()]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),u(e.id,"restart")},className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Restart"}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),u(e.id,"assign")},disabled:"busy"===e.status,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign Task"})]})]},e.id))})})}),(0,a.jsx)("div",{className:"w-1/2",children:b?(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:b.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["ID: ",b.id]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full border ".concat(h(b.status)),children:g(b.status)})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Health Status"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 ".concat(b.health.isAlive?"text-green-600":"text-red-600"),children:b.health.isAlive?"Healthy":"Unhealthy"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Error Count:"}),(0,a.jsx)("span",{className:"ml-2",children:b.health.errorCount})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Last Check:"}),(0,a.jsx)("span",{className:"ml-2",children:b.health.lastCheck.toLocaleString()})]})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Recent Logs"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 max-h-64 overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2",children:b.logs.slice(-10).reverse().map((e,s)=>(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:e.timestamp.toLocaleTimeString()}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("error"===e.level?"bg-red-100 text-red-800":"warn"===e.level?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.level.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-gray-700 mt-1",children:[(0,a.jsxs)("span",{className:"font-medium",children:[e.action,":"]})," ",e.message]})]},s))})})]})]}):(0,a.jsx)("div",{className:"p-4 flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:"Select an agent to view details"})})})})]})]})},c=t(9780);function d(){let[e,s]=(0,l.useState)("panel");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Agent Framework - Command Center"}),(0,a.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Agent Framework"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor and manage your AI agents"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>s("panel"),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("panel"===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Agent Panel"}),(0,a.jsx)("button",{onClick:()=>s("api"),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("api"===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"API Testing"})]})]})}),(0,a.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:"panel"===e?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Management Panel"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Monitor and manage your AI agents in real-time. View status, health, logs, and perform quick actions."}),(0,a.jsx)(i,{})]})}):(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"API Testing Interface"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Test the agent lifecycle API endpoints directly from this interface."}),(0,a.jsx)(o,{})]})})})]})]})}let o=()=>{let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(!1),n=async(e,t)=>{r(!0);try{let a=await fetch("/api/agents/lifecycle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,...t})}),r=await a.json();s(JSON.stringify(r,null,2))}catch(e){s("Error: ".concat(e.message))}finally{r(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Agent Registration"}),(0,a.jsx)("button",{onClick:()=>n("register",{data:{name:"Test Agent",config:{maxRetries:3,backoffMs:1e3}}}),disabled:t,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Register Agent"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Task Assignment"}),(0,a.jsx)("button",{onClick:()=>n("assign",{agentId:"test_agent_123",data:{taskId:"task_456",taskType:"data_processing",payload:{data:"test"}}}),disabled:t,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Assign Task"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Health Check"}),(0,a.jsx)("button",{onClick:()=>n("health",{agentId:"test_agent_123"}),disabled:t,className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50",children:"Check Health"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Log Action"}),(0,a.jsx)("button",{onClick:()=>n("log",{agentId:"test_agent_123",data:{action:"test_action",message:"Test log entry",level:"info"}}),disabled:t,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Add Log Entry"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"API Response"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:t?(0,a.jsx)("div",{className:"text-gray-500",children:"Loading..."}):e?(0,a.jsx)("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e}):(0,a.jsx)("div",{className:"text-gray-500",children:"Click a button above to test the API"})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"API Documentation"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"POST /api/agents/lifecycle"})}),(0,a.jsx)("p",{children:"All agent lifecycle operations go through this single endpoint with different action types:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"register:"})," Register a new agent with name and config"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"assign:"})," Assign a task to an agent"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"health:"})," Check agent health status"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"log:"})," Add a log entry for an agent"]})]})]})]})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=5541)}),_N_E=e.O()}]);